head	1.6;
access;
symbols;
locks
	root:1.6; strict;
comment	@ * @;


1.6
date	2021.03.26.20.11.02;	author root;	state Exp;
branches;
next	1.5;

1.5
date	2021.03.26.20.10.17;	author root;	state Exp;
branches;
next	1.4;

1.4
date	2021.03.26.19.39.09;	author root;	state Exp;
branches;
next	1.3;

1.3
date	2021.03.25.06.10.01;	author root;	state Exp;
branches;
next	1.2;

1.2
date	2021.03.25.04.46.37;	author root;	state Exp;
branches;
next	1.1;

1.1
date	2021.03.25.03.24.10;	author root;	state Exp;
branches;
next	;


desc
@@


1.6
log
@*** empty log message ***
@
text
@#include "headers.h"
#include "declaretions.h"
#include "Macro.h"

void* Open_File(void *arg)
{
       char *status;
       char *file_path;
       char ch;
       int i,*fd;
       char File_name[SIZE_OF_FILE_NAME] = "";

       printf("Begin:%s\n",__func__);
       status = (char *)arg;
       
       fd = (int*)malloc(sizeof(int)); 
       if( fd == NULL )
       {
           perror("malloc");
	   Exti_Func("Failure");
       }
       memset(fd ,'\0' ,sizeof(int));

       file_path = (char*)malloc(sizeof(char)* SIZE_OF_FILE_PATH); 
       if( file_path == NULL )
       {
           perror("malloc");
	   Exti_Func("Failure");
       }
       memset( file_path , '\0' , SIZE_OF_FILE_PATH );
    
       printf("Enter the file Name  :");
       scanf("%s",File_name);

/*     i = 0;
       do
       {
           ch = getchar();
	   
	   *(File_name + i)  = ch;
           ++i;
       
	   if(ch == '\n')
             break;		        
       }while(1);  */  

       strcat( file_path  , FILE_PATH );
       strcat( file_path  , File_name );
      
//     fd = open( "/home/aman/Desktop/Work/Emblogic/Mdceit/TestFile"  , "r");
       if(strncmp( status ,"Reading",7) == 0 )
       {	       
          *fd = open( File_name , O_RDONLY);
           if(*fd == -1)
           {
               perror("open");
	       Exti_Func("Failure");
           }	      
           printf("File successfully opened :%s\n", (file_path));  
       }
       else if (strncmp( status ,"Writing",7) == 0)
       {
	   *fd = open( File_name ,  O_WRONLY|O_CREAT);
           printf("File successfully opened :%s\n", (file_path));  
           if(*fd == -1)
           {
              perror("open");
	      Exti_Func("Failure");
           }	      
       }
       else if (strncmp( (void *)status ,"Create",6) == 0)
       {
	   *fd = open( File_name ,  O_WRONLY|O_CREAT);
           if(*fd == -1)
           {
              perror("open");
	      Exti_Func("Failure");
           }	      
           printf("File successfully created :%s\n", (file_path));  
       }
      
       free(file_path);    
      
       printf("End:%s\n",__func__);
     return (void *)fd;
}
@


1.5
log
@*** empty log message ***
@
text
@d33 1
a33 1
       scanf("%s",&File_name);
@


1.4
log
@give name for open file
@
text
@d7 1
a7 1
       char *File_name, *status;
d11 1
a14 8

       File_name = (char*)malloc(sizeof(char)*SIZE_OF_FILE_NAME); 
       if( File_name == NULL )
       {
           perror("malloc");
	   Exti_Func("Failure");
       }
       memset(File_name ,'\0' ,SIZE_OF_FILE_NAME);
d33 3
a35 1
       i = 0;
d45 1
a45 1
       }while(1);    
d53 1
a53 1
          *fd = open (File_name, O_RDONLY);
a81 1
       free(File_name);    
@


1.3
log
@*** empty log message ***
@
text
@d58 1
a58 1
          *fd = open("/home/aman/Desktop/Work/Emblogic/Mdceit/TestFile",  O_RDONLY);
d68 1
a68 1
	   *fd = open("E_TestFile",  O_WRONLY|O_CREAT);
d78 1
a78 1
	   *fd = open("C_TestFile" ,  O_WRONLY|O_CREAT);
@


1.2
log
@*** empty log message ***
@
text
@d37 1
a37 1
       memset( file_path ,'\0' , SIZE_OF_FILE_PATH );
d59 6
a64 1
          printf("File successfully opened :%s\n", (file_path));  
d68 7
a74 2
	  *fd = open("/home/aman/Desktop/Work/Emblogic/Mdceit/TestFile",  O_WRONLY);
          printf("File successfully opened :%s\n", (file_path));  
d78 7
a84 2
	  *fd = open( File_name ,  O_WRONLY|O_CREAT);
          printf("File successfully created :%s\n", (file_path));  
a85 6

       if(*fd == -1)
       {
           perror("open");
	   Exti_Func("Failure");
       }	      
@


1.1
log
@Initial revision
@
text
@d55 1
a55 1
//    fd = open( "/home/aman/Desktop/Work/Emblogic/Mdceit/TestFile"  , "r");
d57 17
a73 8
         *fd = open("/home/aman/Desktop/Work/Emblogic/Mdceit/TestFile",  O_RDONLY);
      else if (strncmp( status ,"Writing",7) == 0)
         *fd = open("/home/aman/Desktop/Work/Emblogic/Mdceit/TestFile",  O_WRONLY);
      else if (strncmp( (void *)status ,"Create",6) == 0)
         *fd = open("/home/aman/Desktop/Work/Emblogic/Mdceit/TestFile",  O_WRONLY|O_CREAT);
  
      if(*fd == -1)
      {
d76 1
a76 3
      }	      
       
      printf("File successfully opened :%s\n", (file_path));  
d78 2
a79 2
      free(File_name);    
      free(file_path);    
d81 2
a82 2
      printf("End:%s\n",__func__);
      return (void *)fd;
@
